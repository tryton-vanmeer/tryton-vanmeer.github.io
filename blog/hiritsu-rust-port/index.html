<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Porting Hiritsu to Rust</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.0/css/bulma.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <link rel="stylesheet" href="https://www.trytonlux.ca/css/index.c5e78fd8f79d4d8f4656967dda8581efd5fee211b28dfe133d093c416ce600aa.css" integrity="sha256-xeeP2PedTY9GVpZ92oWB79X&#43;4hGyjf4TPQk8QWzmAKo=" media="screen">
  
  <link rel="stylesheet" href="https://www.trytonlux.ca/css/chroma.860ba9e1c9c5006ffee51978c93ae184505b1b914eb274a2dbb553008bcd5ec7.css" integrity="sha256-hgup4cnFAG/&#43;5Rl4yTrhhFBbG5FOsnSi27VTAIvNXsc=" media="screen">
</head>

<body>
  
<script defer src="https://www.trytonlux.ca/js/navbar.f17a2bc3e918c7f28c28787fae1422f9857775bc06773b6ab0df5d8b9eaca877.js" integrity="sha256-8Xorw&#43;kYx/KMKHh/rhQi&#43;YV3dbwGdztqsN9di56sqHc="></script>

<nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item is-size-3 has-text-weight-bold has-text-danger-65" href="https://www.trytonlux.ca/">
      Tryton
    </a>

    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="navMenu" class="navbar-menu">
    <div class="navbar-end">
      
      <a class="navbar-item " href="/about">
        About
      </a>

      
      <a class="navbar-item " href="/blog">
        Blog
      </a>
    </div>
  </div>
</nav>


  <main>
    



<section class="has-text-centered">
  <p class="title">
    Porting Hiritsu to Rust
  </p>
  <p class="subtitle ">
    Mar 3, 2020
  </p>
</section>

<section class="section">
  <div id="blog-content" class="container content">
    <p>Hiritsu is a tool I developed to get the resolution and aspect ratio of images. It can also be used to rename an input image to include those attributes in the filename.</p>
<p>An example of this in action:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ hiritsu wallpaper.jpg
</span></span><span class="line"><span class="cl">Width:  <span class="m">1920</span>
</span></span><span class="line"><span class="cl">Height: <span class="m">1080</span>
</span></span><span class="line"><span class="cl">Ratio:  16:9
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ hiritsu --rename wallpaper.jpg
</span></span><span class="line"><span class="cl">wallpaper <span class="o">(</span>1920x1080<span class="o">)</span> <span class="o">[</span>16:9<span class="o">]</span>.jpg
</span></span></code></pre></div><p>The Python version can be found <a href="https://github.com/tryton-vanmeer/Hiritsu/blob/python/hiritsu">here</a>, and the Rust port <a href="https://github.com/tryton-vanmeer/Hiritsu/blob/master/src/main.rs">here</a></p>
<h1 id="benchmarking">Benchmarking</h1>
<p>For this benchmark I used this <a href="https://wallhaven.cc/w/dgzj9o">wallpaper</a> from Wallhaven.cc. I ran the commands in Bash 5.0.016-1 and used the <code>time</code> command.</p>
<p>The Python version ran in 0.040s while the Rust version ran in 0.001s.</p>
<p>And if I&rsquo;m paying really close attention, I can see the Rust output is slightly faster.</p>
<p>Now, obviously a simple script like this won&rsquo;t show the true speed benifits of using Rust.</p>
<h1 id="rust-in-the-future">Rust in the Future</h1>
<p>The language took some time to wrap my head around (pun unintended) some of the new concepts like unwrapping, matching results, and the way Rust does error handling, but the more I played with Rust, the more I liked it.</p>
<p>It&rsquo;s sastifying to use in the same way C is, but has the comforts of a modern language like the Cargo package manager. The compile errors are clear and helpful, and editors like VSCode have great support for the language.</p>
<p>Of course, Python remains one of my favourite languages, but I look forward to writing more Rust in the future.</p>

  </div>
</section>


  </main>

  <footer class="footer has-text-centered">
  <div>Â© Tryton Lux</div>
  <div>
    Source code licensed <a href="https://github.com/tryton-vanmeer/tryton-vanmeer.github.io">GPLv3</a>
  </div>
  <div>
    Blog content licensed <a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a>
  </div>
</footer>

</body>

</html>
